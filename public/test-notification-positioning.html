<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Notification Positioning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/marketplace.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
        }
        
        .test-content {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-section {
            background: #f8f9fa;
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .test-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }
        
        .test-btn {
            padding: 0.75rem 1.5rem;
            background: #3468c0;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .test-btn:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }
        
        .test-btn.success {
            background: #10b981;
        }
        
        .test-btn.error {
            background: #ef4444;
        }
        
        .test-btn.info {
            background: #3b82f6;
        }
        
        .test-btn.warning {
            background: #f59e0b;
        }
        
        .status-indicator {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #10b981;
            color: white;
            border-radius: 4px;
            font-size: 0.9rem;
            margin: 1rem 0;
        }
        
        .header-info {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
            border-left: 4px solid #3468c0;
        }
        
        .header-info h3 {
            margin: 0 0 0.5rem 0;
            color: #3468c0;
        }
        
        .header-info p {
            margin: 0;
            color: #374151;
        }
    </style>
</head>
<body>
    <!-- Header Auth Component -->
    <header-auth-component></header-auth-component>
    
    <!-- Cart Component -->
    <cart-component></cart-component>
    
    <!-- Filters Sidebar Component -->
    <filters-sidebar-component></filters-sidebar-component>
    
    <!-- Notification Toast -->
    <div class="notification-toast" id="notificationToast">
        <div class="toast-content">
            <i class="fas fa-check-circle"></i>
            <span class="toast-message">Test notification message</span>
        </div>
        <button class="toast-close">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="test-content">
        <div class="header-info">
            <h3>Notification Positioning Test</h3>
            <p>This page tests the notification toast positioning to ensure it no longer appears embedded in the header.</p>
            <p><strong>Expected behavior:</strong> Notifications should appear below the header, not overlapping with it.</p>
        </div>
        
        <div class="test-section">
            <h2>Test Notification Positioning</h2>
            <p>Click the buttons below to test different notification types and verify they appear in the correct position.</p>
            
            <div class="test-buttons">
                <button class="test-btn success" onclick="showNotification('Success notification test!', 'success')">
                    <i class="fas fa-check"></i> Success Notification
                </button>
                <button class="test-btn error" onclick="showNotification('Error notification test!', 'error')">
                    <i class="fas fa-exclamation-triangle"></i> Error Notification
                </button>
                <button class="test-btn info" onclick="showNotification('Info notification test!', 'info')">
                    <i class="fas fa-info-circle"></i> Info Notification
                </button>
                <button class="test-btn warning" onclick="showNotification('Warning notification test!', 'warning')">
                    <i class="fas fa-exclamation-circle"></i> Warning Notification
                </button>
            </div>
            
            <div class="status-indicator">
                ✓ Notification positioning should be fixed - notifications should appear below the header
            </div>
        </div>
        
        <div class="test-section">
            <h2>Header Height Information</h2>
            <p><strong>Desktop/Laptop:</strong> Header height = 80px, Notification top = 100px</p>
            <p><strong>Mobile/Tablet:</strong> Dual header height ≈ 120px, Notification top = 160px</p>
            <p><strong>Small Mobile:</strong> Dual header height ≈ 110px, Notification top = 150px</p>
        </div>
        
        <div class="test-section">
            <h2>Test Content</h2>
            <p>This content should start below the header without being cut off. The notification toast should appear above this content but below the header.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
    </div>
    
    <script src="js/config.js"></script>
    <script src="components/header-auth-component.js"></script>
    <script src="components/cart-component.js"></script>
    <script src="components/filters-sidebar-component.js"></script>
    
    <script>
        // Initialize components
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded');
            
            // Initialize path config if available
            if (window.pathConfig) {
                window.pathConfig.initialize();
            }
        });
        
        // Notification test function
        function showNotification(message, type = 'success') {
            const toast = document.getElementById('notificationToast');
            const toastMessage = toast.querySelector('.toast-message');
            const toastIcon = toast.querySelector('.toast-content i');
            
            if (toast && toastMessage) {
                // Set message
                toastMessage.textContent = message;
                
                // Set icon based on type
                const icons = {
                    success: 'fas fa-check-circle',
                    error: 'fas fa-exclamation-circle',
                    info: 'fas fa-info-circle',
                    warning: 'fas fa-exclamation-triangle'
                };
                
                if (toastIcon) {
                    toastIcon.className = icons[type] || icons.success;
                }
                
                // Set notification type class
                toast.className = `notification-toast ${type}`;
                
                // Show notification
                toast.classList.add('show');
                
                // Auto hide after 4 seconds
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 4000);
            }
        }
        
        // Close notification on close button click
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('toast-close') || e.target.closest('.toast-close')) {
                const toast = document.getElementById('notificationToast');
                if (toast) {
                    toast.classList.remove('show');
                }
            }
        });
        
        // Log header and notification positioning for debugging
        function logPositioning() {
            const header = document.querySelector('header-auth-component');
            const notification = document.getElementById('notificationToast');
            
            if (header && notification) {
                const headerRect = header.getBoundingClientRect();
                const notificationRect = notification.getBoundingClientRect();
                
                console.log('Header positioning:', {
                    top: headerRect.top,
                    height: headerRect.height,
                    bottom: headerRect.bottom
                });
                
                console.log('Notification positioning:', {
                    top: notificationRect.top,
                    height: notificationRect.height,
                    bottom: notificationRect.bottom
                });
                
                console.log('Gap between header and notification:', notificationRect.top - headerRect.bottom);
            }
        }
        
        // Log positioning after page load
        setTimeout(logPositioning, 1000);
        
        // Log positioning when window resizes
        window.addEventListener('resize', logPositioning);
    </script>
</body>
</html> 